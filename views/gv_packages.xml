<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

		<!-- package base window view -->
		<record id="package_form_action" model="ir.actions.act_window">
			<field name="name">Package Form</field>
			<field name="res_model">gv.package</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Click Create to add a new package!</p>
				<p class="">You cannot create a package from here. Go to Product
					Packages and create a product to create a package. The package will
					then appear here.</p>
			</field>
		</record>

		<!-- service base window view -->
		<record id="package_service_form_action" model="ir.actions.act_window">
			<field name="name">Service Form</field>
			<field name="res_model">gv.package.service</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Click Create to add a new Bookable Service!</p>
				<p class="">You cannot create a service from here. Go to Bookable
					Services as Products and create a product to create a Bookable
					Service. The Bookable Service will then appear here.</p>
			</field>
		</record>

		<!-- operation base window view <record id="oper_form_action" model="ir.actions.act_window"> 
			<field name="name">Store Operation Form</field> <field name="res_model">gv.package.oper</field> 
			<field name="view_type">form</field> <field name="view_mode">tree,form</field> 
			<field name="help" type="html"> <p class="oe_view_nocontent_create">Click 
			Create to add a new branch and set operating hours</p> </field> </record> -->

		<!-- validity base window view -->
		<record id="package_validity_form_action" model="ir.actions.act_window">
			<field name="name">Validity Form</field>
			<field name="res_model">gv.package.validity</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
		</record>


		<!-- purchased package base window view -->
		<record id="purchased_package_form_action" model="ir.actions.act_window">
			<field name="name">Purchased Package Form</field>
			<field name="res_model">purchased.package</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Click Create to add a new purchase record!</p>
			</field>
		</record>

		<!-- purchased service base window view -->
		<record id="purchased_service_form_action" model="ir.actions.act_window">
			<field name="name">Purchased Service Form</field>
			<field name="res_model">purchased.service</field>
			<field name="view_type">form</field>
			<field name="view_mode">tree,form</field>
			<field name="help" type="html">
				<p class="oe_view_nocontent_create">Click Create to add a new Service purchase record!</p>
			</field>
		</record>

		<!-- package products kanban view -->
		<record id="packages_product_template_action" model="ir.actions.act_window">
			<field name="name">Products</field>
			<field name="res_model">product.template</field>
			<field name="context">{"search_default_filter_packages":1,
				"search_default_filter_to_sell":1}</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
		</record>

		<!-- service products kanban view -->
		<record id="services_product_template_action" model="ir.actions.act_window">
			<field name="name">Bookable Services as Products</field>
			<field name="res_model">product.template</field>
			<field name="context">{"search_default_filter_services":1,
				"search_default_filter_to_sell":1}</field>
			<field name="view_type">form</field>
			<field name="view_mode">kanban,tree,form</field>
		</record>

		<!-- package form view -->
		<record id="package_form_view" model="ir.ui.view">
			<field name="name">package.form.view</field>
			<field name="model">gv.package</field>
			<field name="arch" type="xml">
				<form string="Package Form" create="false">
					<sheet>
						<!-- add header -->
						<div class="oe_title">
							<label for="name" class="oe_edit_only" string="Name of package" />
							<h1>
								<field name="name" class="oe_inline" />
							</h1>
						</div>
						<group string="Package information" col="4">
							<field name="active" />
							<field name="service" />
							<field name="quantity" />
							<field name="validity" />
							<field name="validity_in_days" />
						</group>
						<notebook>
							<page string="Description">
								<field name="description" />
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<!-- operation form view <record id="oper_form_view" model="ir.ui.view"> 
			<field name="name">oper.form.view</field> <field name="model">gv.package.oper</field> 
			<field name="arch" type="xml"> <form string="Operation Form"> <sheet> <group 
			string="Store/Branch Information" col="4"> <field name="store_name" /> <field 
			name="branch_name" /> <field name="branch_location" /> </group> <group string="Operating 
			Hours Information" col="4"> <field name="operating_start_hour" /> <field 
			name="operating_end_hour" /> <field name="operating_start_minute" /> <field 
			name="operating_end_minute" /> <field name="start_time" /> <field name="end_time" 
			/> <field name="total_time" /> </group> </sheet> </form> </field> </record> -->

		<!-- service form view -->
		<record id="service_form_view" model="ir.ui.view">
			<field name="name">service.form.view</field>
			<field name="model">gv.package.service</field>
			<field name="arch" type="xml">
				<form string="Service Form">
					<sheet>
						<!-- add header -->
						<div class="oe_title">
							<label for="name" class="oe_edit_only" string="Name of package" />
							<h1>
								<field name="name" class="oe_inline" />
							</h1>
						</div>
						<group string="Service information" col="4">
							<field name="service_duration_hour" />
							<field name="buffer_hour" />
							<field name="service_duration_minute" />
							<field name="buffer_minute" />
							<field name="service_duration" />
							<field name="buff_time" />
						</group>
						<group string="Staff &amp; Resource information" col="4">
							<field name="service_availability" />
							<field name="available_units" />
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<!-- validity form view -->
		<record id="package_validity_form_view" model="ir.ui.view">
			<field name="name">package.validity.form.view</field>
			<field name="model">gv.package.validity</field>
			<field name="arch" type="xml">
				<form string="Package Validity Form">
					<sheet>
						<!-- add header -->
						<div class="oe_title">
							<label for="name" string="Name of validity period" />
							<h1>
								<field name="name" class="oe_inline" />
							</h1>
						</div>
						<group col="4">
							<field name="period" />
							<field name="number_of_days" readonly="1" />
							<separator colspan="4" />
							<label for="period" class="oe_edit_only" string="1 month = 30 days"
								colspan="4" />
						</group>
					</sheet>
				</form>
			</field>
		</record>

		<!-- purchased package form view -->
		<record id="purchased_package_form_view" model="ir.ui.view">
			<field name="name">purchased.package.form.view</field>
			<field name="model">purchased.package</field>
			<field name="arch" type="xml">
				<form string="Purchased Package Form">
					<sheet>
						<!-- add header -->
						<div class="oe_title">
							<label for="customer" string="Customer" colspan="4" />
							<h1>
								<field name="customer" class="oe_inline" />
							</h1>
						</div>
						<separator colspan="2" />
						<group colspan="2" cols="2">
							<field name="package" />
							<field name="purchase_date" />
						</group>
						<notebook>
							<page string="Information">
								<group colspan="4">
									<field name="service" />
									<field name="service_quantity" readonly="1" />
									<field name="validity_in_days" />
									<field name="package_expiry" readonly="1" />
								</group>
							</page>
						</notebook>
					</sheet>
				</form>
			</field>
		</record>

		<!-- purchased service form view -->
		<record id="purchased_service_form_view" model="ir.ui.view">
			<field name="name">purchased.service.form.view</field>
			<field name="model">purchased.service</field>
			<field name="arch" type="xml">
				<form string="Purchased Service Form">
					<sheet>
						<!-- add header -->
						<div class="oe_title">
							<label for="customer" string="Customer" colspan="4" />
							<h1>
								<field name="customer" class="oe_inline" />
							</h1>
						</div>
						<separator colspan="2" />
						<group colspan="2" cols="2">
							<field name="service" />
							<field name="purchase_date" />
						</group>
					</sheet>
				</form>
			</field>
		</record>
		<!-- purchased package form view -->
		<record id="base_view_partner_form" model="ir.ui.view">
			<field name="model">res.partner</field>
			<field name="inherit_id" ref="base.view_partner_form" />
			<field name="arch" type="xml">
				<notebook position="inside">
					<page string="Packages &amp; Services">
						<separator />
						<h2>Purchased Packages</h2>
						<separator />
						<field name="purchased_packages" />
						<separator />
						<h2>Purchased Services</h2>
						<separator />
						<field name="purchased_services" />
					</page>
				</notebook>
			</field>
		</record>

		<!-- add to product form view -->
		<record id="product_template_form_view" model="ir.ui.view">
			<field name="model">product.template</field>
			<field name="inherit_id" ref="product.product_template_form_view" />
			<field name="arch" type="xml">
				<div name="options" position="inside">
					<div>
						<field name="is_package" />
						<label for="is_package" />
					</div>
					<div>
						<field name="is_book_service" />
						<label for="is_book_service" />
					</div>
				</div>
				<field name="type" position="after">
					<field name="service" attrs="{'invisible':[('type', '!=', 'package')]}" />
					<field name="quantity" attrs="{'invisible':[('type', '!=', 'package')]}" />
					<field name="validity" attrs="{'invisible':[('type', '!=', 'package')]}" />
					<field name="service_duration_hour" attrs="{'invisible':[('type', '!=', 'book_service')]}" />
					<field name="service_duration_minute" attrs="{'invisible':[('type', '!=', 'book_service')]}" />
					<field name="buffer_hour" attrs="{'invisible':[('type', '!=', 'book_service')]}" />
					<field name="buffer_minute" attrs="{'invisible':[('type', '!=', 'book_service')]}" />
				</field>
			</field>
		</record>

		<!-- package tree view -->
		<record id="package_tree_view" model="ir.ui.view">
			<field name="name">package.tree.view</field>
			<field name="model">gv.package</field>
			<field name="arch" type="xml">
				<tree string="Package Tree" create="false">
					<field name="name" />
					<field name="service" />
					<field name="quantity" />
					<field name="validity_in_days" />
					<field name="active" />
				</tree>
			</field>
		</record>

		<!-- service tree view -->
		<record id="service_tree_view" model="ir.ui.view">
			<field name="name">service.tree.view</field>
			<field name="model">gv.package.service</field>
			<field name="arch" type="xml">
				<tree string="Service Tree" create="false">
					<field name="name" />
					<field name="service_availability" />
					<field name="available_units" />
				</tree>
			</field>
		</record>

		<!-- operation tree view <record id="oper_tree_view" model="ir.ui.view"> 
			<field name="name">oper.tree.view</field> <field name="model">gv.package.oper</field> 
			<field name="arch" type="xml"> <tree string="Service Tree"> <field name="store_name" 
			/> <field name="branch_name" /> <field name="branch_location" /> <field name="start_time" 
			/> <field name="end_time" /> </tree> </field> </record> -->

		<!-- validity tree view -->
		<record id="package_validity_tree_view" model="ir.ui.view">
			<field name="name">package.validity.tree.view</field>
			<field name="model">gv.package.validity</field>
			<field name="arch" type="xml">
				<tree string="Package Validity Tree" editable="bottom">
					<field name="name" />
					<field name="period" />
					<field name="number_of_days" readonly="1" />
				</tree>
			</field>
		</record>

		<!-- purchased package tree view -->
		<record id="purchased_package_tree_view" model="ir.ui.view">
			<field name="name">purchased.package.tree.view</field>
			<field name="model">purchased.package</field>
			<field name="arch" type="xml">
				<tree string="Purchased Package Tree">
					<field name="customer" />
					<field name="package" />
					<field name="service" />
					<field name="service_quantity" />
					<field name="purchase_date" />
					<field name="package_expiry" />
				</tree>
			</field>
		</record>

		<!-- purchased package tree view -->
		<record id="purchased_service_tree_view" model="ir.ui.view">
			<field name="name">purchased.service.tree.view</field>
			<field name="model">purchased.service</field>
			<field name="arch" type="xml">
				<tree string="Purchased Service Tree">
					<field name="name" />
					<field name="customer" />
					<field name="service" />
					<field name="purchase_date" />
				</tree>
			</field>
		</record>

		<!-- search filters -->

		<record id="product_template_search_view" model="ir.ui.view">
			<field name="inherit_id" ref="product.product_template_search_view" />
			<field name="model">product.template</field>
			<field name="arch" type="xml">
				<search>
					<field name="name" position="inside">
						<filter string="Packages" name="filter_packages" icon="terp-accessories-archiver"
							domain="[('is_package', '=', True)]" help="Packages as products" />
						<filter string="Services" name="filter_services" icon="terp-accessories-archiver"
							domain="[('is_book_service', '=', True)]" help="Bookable Services as products" />
					</field>
				</search>
			</field>
		</record>

		<!-- packages menu items -->
		<!-- add menu header to parent menu -->
		<menuitem name="Packages" id="menu_package" groups="base.group_user" />


		<!-- add menu to main parent -->

		<menuitem id="product_menu" name="Products" parent="menu_package"
			sequence="1" />

		<menuitem id="menu_products" name="Packages as Products"
			parent="product_menu" action="packages_product_template_action"
			sequence="1" />

		<menuitem id="menu_services" name="Bookable Services as Products"
			parent="product_menu" action="services_product_template_action"
			sequence="2" />

		<!-- add menu to main parent -->
		<menuitem id="package_menu" name="Packages" parent="menu_package"
			sequence="2" />

		<menuitem id="package_form_menu" name="Packages" parent="package_menu"
			action="package_form_action" sequence="1" />

		<menuitem id="purchased_package_form_menu" name="Purchased Packages"
			parent="package_menu" action="purchased_package_form_action"
			sequence="2" />

		<!-- add menu to main parent -->
		<menuitem id="service_menu" name="Bookable Services" parent="menu_package"
			sequence="3" />

		<menuitem id="service_form_menu" name="Bookable Services"
			parent="service_menu" sequence="1" action="package_service_form_action" />

		<menuitem id="purchased_service_form_menu" name="Purchased Bookable Services"
			parent="service_menu" action="purchased_service_form_action"
			sequence="2" />

		<menuitem id="config_menu" name="Configuration" parent="menu_package"
			sequence="4" />

		<menuitem id="package_validity_form_menu" name="Set Validity"
			parent="config_menu" sequence="1" action="package_validity_form_action" />

		<!-- <menuitem id="oper_form_menu" name="Branch &amp; Operation" parent="config_menu" 
			sequence="3" action="oper_form_action" /> -->

		<menuitem id="products_menu" name="Customers" parent="menu_package"
			sequence="5" />

		<menuitem id="menu_customers" name="Customers" parent="products_menu"
			action="base.action_partner_customer_form" sequence="1" />


	</data>
</openerp>
